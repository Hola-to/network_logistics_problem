# services/gateway-svc/docker-compose.yml

version: "3.8"

services:
  gateway-svc:
    build:
      context: ../..
      dockerfile: services/gateway-svc/Dockerfile.dev
    ports:
      - "8080:8080"
    environment:
      - APP_NAME=gateway-svc
      - APP_ENV=development
      - HTTP_PORT=8080
      - LOG_LEVEL=debug
      - LOG_FORMAT=text
      - CORS_ENABLED=true
      - CORS_ALLOWED_ORIGINS=*
      # Backend services
      - SERVICES_SOLVER_HOST=solver-svc
      - SERVICES_SOLVER_PORT=50054
      - SERVICES_ANALYTICS_HOST=analytics-svc
      - SERVICES_ANALYTICS_PORT=50053
      - SERVICES_VALIDATION_HOST=validation-svc
      - SERVICES_VALIDATION_PORT=50052
      - SERVICES_HISTORY_HOST=history-svc
      - SERVICES_HISTORY_PORT=50056
      - SERVICES_AUTH_HOST=auth-svc
      - SERVICES_AUTH_PORT=50055
      - SERVICES_SIMULATION_HOST=simulation-svc
      - SERVICES_SIMULATION_PORT=50058
      - SERVICES_REPORT_HOST=report-svc
      - SERVICES_REPORT_PORT=50059
      - SERVICES_AUDIT_HOST=audit-svc
      - SERVICES_AUDIT_PORT=50057
    volumes:
      - ../..:/app
    networks:
      - logistics-net

networks:
  logistics-net:
    driver: bridge
